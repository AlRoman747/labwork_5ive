#  Пятая лабораторная работа

В пятой лабораторной работе показываются специально сдлеанные ошибки в четвёртой лабе
### Ошибка 1 — сравнение через is вместо ==
Место: simulation.py, метод get_commands
Симптом: 
Не работает метод add
Как воспроизвести: 
Запустить программу
Отладка: 
Установлен breakpoint на условие if. 
Причина: 
Неправильно выбран оператор сравнения
![Image alt](https://github.com/AlRoman747/labwork_5ive/blob/main/screenshots/Screenshot%202025-12-22%20161825.png)

Исправление:
Заменено на: 
if event in ("add", "remove"): 
Проверка: 
Поведение симуляции соответствует ожидаемому. 
Доказательства: 
до устранения проблем
!alt_text[screenshots/Screenshot%202025-12-22%20190905.png]
после
!alt_text[screenshots/Screenshot%202025-12-22%20191843.png]

### Ошибка 2 — перехват слишком общего исключения
Место: library.py, метод BookCollections.__getitem__
Симптом: 
Проблема в отладке кода. Не понятно из-за чего именно падает программа.
Как воспроизвести: 
Запустить программу с ошибкой(vallue error, keyerror и т.д)
Отладка: 
Установлен breakpoint на try. 
Причина: 
Указаны Exception для всех ошибок, вместо конкретных, что мешает отладке
!alt_text[screenshots/Screenshot%202025-12-22%20201203.png]
Исправление:
Добавлены новый парсинг ошибок: 
except KeyError: raise KeyError("KeyError. The book doesn't exist.")
except ValueError: raise ValueError("ValueError. The book doesn't exist.")
except TypeError: raise TypeError("TypeError. The book doesn't exist.")
Проверка: 
Поведение симуляции соответствует ожидаемому. 
Доказательства: 
до устранения проблем
!alt_text[screenshots/Screenshot%202025-12-22%20201203.png]
после
!alt_text[screenshots/Screenshot%202025-12-22%20202225.png]

### Ошибка 3 — изменение коллекции во время итерации
Место: simulation.py, метод get_commands
Симптом: 
Непредсказуемое поведение при проходе по списку
Как воспроизвести: 
Запустить функцию удаления элементов
Отладка: 
Установлен breakpoint на for 
Причина: 
неправильное удаление

Исправление:
Заменено на:             
authors.discard(removed_book.author); years.discard(removed_book.year); isbns.discard(removed_book.isbn)
Проверка: 
Поведение симуляции соответствует ожидаемому. Теперь мы не проходясь по коллекции
Доказательства: 
до устранения проблем
!alt_text[screenshots/Screenshot%202025-12-22%20212023.png]
после
!alt_text[screenshots/Screenshot%202025-12-22%20212454.png]

### Ошибка 4 — неверное логическое условие
Место: main.py, главный цикл while
Симптом: 
неверное логическое условие
Как воспроизвести: 
Запустить программу
Отладка: 
Установлен breakpoint на while. 
Причина: 
симуляция не запускается, если пользователь вводит что угодно кроме -1
логика интерфейса полностью перевёрнута
Исправление:
вернуть на нормальное условие(while move != '-1')
Проверка: 
Поведение симуляции соответствует ожидаемому. 
Доказательства: 
до устранения проблем
даже не заходит и не начинает программу
!alt_text[screenshots/Screenshot%202025-12-22%20215118.png]
после
всё работает корректно
!alt_text[screenshots/Screenshot%202025-12-22%20215248.png]

### Ошибка 5 — перепутанные аргументы конструктора
Место: library.py,, метод BookCatalog.remove
Симптом: 
Получение неправильных параметров книги
Как воспроизвести: 
Запустить программу
Отладка: 
Установлен breakpoint на action == 2 
Причина: 
Все параметры перепутанны и теперь не получается правильно парсить книгу
Исправление:
Параметры книг на своих местах
Проверка: 
Поведение симуляции соответствует ожидаемому. 
Доказательства: 
до устранения проблем
!alt_text[screenshots/Screenshot%202025-12-22%20215530.png]
после
!alt_text[screenshots/Screenshot%202025-12-22%20215601.png]
